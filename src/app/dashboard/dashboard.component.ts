import { Component, OnInit } from '@angular/core';
import { ClimaService } from '../services/clima.service';

@Component({
  selector: 'app-dashboard',
  templateUrl: './dashboard.component.html',
  styleUrls: ['./dashboard.component.css']
})
export class DashboardComponent implements OnInit {
  urlImage = 'data:image/png;base64,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';
  city = '';
  temperature: number;
  humedity: number;
  wheather: string;

  query = false;

  constructor(private climaService: ClimaService) { }

  ngOnInit(): void {
  }

  getWheather(): void {
    this.climaService.getClima(this.city).subscribe(data => {
      this.temperature = data.main.temp - 273;
      this.humedity = data.main.humidity;
      this.wheather = data.weather[0].main;

      this.query = true;
    },
      error => {
        alert('Introduzca una ciudad correcta');
        this.city = '';
        this.query = false;
      }
    );
  }

}
